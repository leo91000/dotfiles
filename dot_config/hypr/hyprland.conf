# Monitor setup
monitor=DP-1,2560x1440@144,0x0,1       # Left monitor (144Hz)
monitor=DP-3,2560x1440@240,2560x0,1    # Center monitor (240Hz, main)
monitor=HDMI-A-1,2560x1440@144,5120x0,1 # Right monitor (144Hz)

# Set the primary monitor
workspace=1,monitor:DP-3

# Wallpaper
exec-once = hyprpaper
exec-once = waybar
exec-once = mako

# Set cursor
exec-once = hyprctl setcursor default 24

# Environment fixes
env = XCURSOR_SIZE,24
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland
env = QT_QPA_PLATFORM,wayland
env = QT_QPA_PLATFORMTHEME,qt5ct
env = QT_STYLE_OVERRIDE,Breeze
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
# Force dark mode
env = GTK_THEME,Breeze-Dark
env = QT_COLOR_SCHEME,Breeze-dark

# NVIDIA specific settings
env = LIBVA_DRIVER_NAME,nvidia
env = XDG_SESSION_TYPE,wayland
env = __GLX_VENDOR_LIBRARY_NAME,nvidia

# Input configs
input {
  kb_layout = us
  follow_mouse = 1
  touchpad {
    natural_scroll = yes
  }
}

# General settings
general {
  gaps_in = 8
  gaps_out = 14
  border_size = 2
  col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
  col.inactive_border = rgba(595959aa)

  layout = dwindle
}

# Decoration (blur, corners, shadows)
decoration {
  rounding = 10
  blur {
    enabled = true
    size = 8
    passes = 3
    new_optimizations = on
  }
}

# Animations
animations {
  enabled = true
  bezier = easeinout, 0.4, 0.0, 0.2, 1.0
  animation = windows, 1, 2, easeinout
  animation = fade, 1, 3, easeinout
  animation = border, 1, 3, easeinout
  animation = workspaces, 1, 2, easeinout
}

# Source modular configs
source = ~/.config/hypr/conf.d/xdg-portal.conf
source = ~/.config/hypr/conf.d/scaling.conf

# Autostart apps
exec-once = ghostty
exec-once = nm-applet
exec-once = 1password
exec-once = systemctl --user restart docker-desktop

input {
  kb_layout = fr,fr
  kb_variant = nodeadkeys,
  kb_options = grp:menu_toggle
}

# Keybinds
$mod = SUPER

bind = $mod, Return, exec, ghostty
bind = $mod, Q, killactive,
bind = $mod, M, exit,
bind = $mod, D, exec, wofi --show drun
bind = $mod, E, exec, dolphin
bind = $mod, F, exec, firefox
bind = $mod, Z, exec, zed

bind = $mod, H, movefocus, l
bind = $mod, J, movefocus, d
bind = $mod, K, movefocus, u
bind = $mod, L, movefocus, r

bind = $mod SHIFT, left, movewindow, l
bind = $mod SHIFT, right, movewindow, r
bind = $mod SHIFT, up, movewindow, u
bind = $mod SHIFT, down, movewindow, d

# Fullscreen toggle with Super+F11
bind = $mod, F11, fullscreen

# 1Password Quick Access with Ctrl+Shift+Space
bind = CTRL SHIFT, space, exec, 1password --quick-access


# Workspaces (1-5)
bind = $mod, ampersand, workspace, 1
bind = $mod, eacute, workspace, 2
bind = $mod, quotedbl, workspace, 3
bind = $mod, apostrophe, workspace, 4
bind = $mod, parenleft, workspace, 5

# Move to workspace with SUPER + SHIFT + number
bind = $mod SHIFT, ampersand, movetoworkspace, 1
bind = $mod SHIFT, eacute, movetoworkspace, 2
bind = $mod SHIFT, quotedbl, movetoworkspace, 3
bind = $mod SHIFT, apostrophe, movetoworkspace, 4
bind = $mod SHIFT, parenleft, movetoworkspace, 5
